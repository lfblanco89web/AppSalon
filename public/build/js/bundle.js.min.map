{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","NOMBRE","FECHA","HORA","SERVICIOS","iniciarApp","mostrarSeccion","tabs","botonesPaginador","botonAnterior","botonSigiente","nombreCliente","seleccionaFecha","seleccionaHora","mostrarResumen","consultarAPI","document","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","seccionAnterior","querySelector","classList","remove","pasoSelector","add","tabAnterior","paginaAnterior","paginaSiguiente","mostrarAlerta","tipo","mensaje","elemento","desaparece","alertaPrevia","alerta","createElement","textContent","appendChild","setTimeout","value","dia","Date","getUTCDay","includes","hora","split","async","url","resultado","fetch","mostrarServicios","json","error","console","log","servicios","servicio","ID","PRECIO","nombreServicio","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","divServicio","some","agregado","filter","resumen","firstChild","removeChild","Object","values","lenght","headingServicios","fechaObj","mes","getMonth","getDate","ano","getFullYear","fechaFormato","UTC","toLocaleDateString","weekday","year","month","day","contenedorServicio","textoServicio","innerHTML","headingCita","fechaCita","horaCita","botonReservar","ReservarCita","idServicios","map","Datos","FormData","append","respuesta","method","body","Swal","fire","icon","title","text","then","window","location","reload"],"mappings":"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","file":"bundle.js","sourcesContent":["//DEFINICION de Variables\r\nlet paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\n//DEFINICION de Objetos\r\nconst cita = {\r\n\r\n    NOMBRE: '',\r\n    FECHA: '',\r\n    HORA: '',\r\n    SERVICIOS: []\r\n\r\n}\r\n\r\n//INICIO del Proyecto\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\r\n    iniciarApp();\r\n\r\n});\r\n\r\n//FUNCION iniciarApp\r\nfunction iniciarApp() {\r\n\r\n    //FUNCION MOSTRAR SECCION -- Muestra la sección activa inicialmente\r\n    mostrarSeccion();\r\n\r\n    //FUNCION TABS -- Cambia de sección cuando se aprietan los botones tabs\r\n    tabs();\r\n\r\n    //FUNCION PAGINADOR -- Lee la posición del paginador\r\n    botonesPaginador();\r\n    botonAnterior();\r\n    botonSigiente();\r\n\r\n    //FUNCION CITA\r\n    nombreCliente(); // Guarda el nombre del cliente en el objeto cita\r\n    seleccionaFecha(); //Guarda la fecha en el objeto cita\r\n    seleccionaHora(); //Guarda la hora en el objeto cita\r\n\r\n    mostrarResumen(); //Muestra el objeto cita\r\n\r\n    //API\r\n    consultarAPI(); /*Consulta la API en el BackEnd*/\r\n\r\n}\r\n\r\n\r\n/*FUNCION TABS*/\r\nfunction tabs() {\r\n\r\n    //Arreglo de botones que contienen las clases y etiquetas\r\n    const botones = document.querySelectorAll('.tabs button'); //Selecciono la clase tabs y la etiqueta button\r\n\r\n    //Itero sobre los botones\r\n    botones.forEach(boton => {\r\n\r\n        //Registro cada evento al hacer click sobre cada boton individual\r\n        boton.addEventListener('click', function (e) {\r\n\r\n            //ASIGNAR Valores a Variables\r\n            paso = parseInt(e.target.dataset.paso);\r\n\r\n            //LLAMAR a la Función\r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n\r\n        });\r\n\r\n    });\r\n\r\n}\r\n\r\n/*FUNCION MOSTRAR SECCION*/\r\nfunction mostrarSeccion() {\r\n\r\n    //OCULTAR las secciones que tengan la clase mostrar\r\n    const seccionAnterior = document.querySelector('.mostrar');\r\n\r\n    if (seccionAnterior) {\r\n\r\n        seccionAnterior.classList.remove('mostrar');\r\n\r\n    }\r\n\r\n    //SELECCIONAR la sección con el paso\r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n\r\n    //AGREGAR Clase Mostrar\r\n    seccion.classList.add('mostrar');\r\n\r\n    //QUITAR la clase actual sobre el Tab activo\r\n    const tabAnterior = document.querySelector('.actual');\r\n    if (tabAnterior) {\r\n\r\n        tabAnterior.classList.remove('actual');\r\n\r\n    }\r\n\r\n    //RESALTAR el Tab activo\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n\r\n    tab.classList.add('actual');\r\n\r\n}\r\n\r\n/*FUNCION PAGINADOR*/\r\nfunction botonesPaginador() {\r\n\r\n    //DEFINIR Variables de los Botones\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    if (paso === 1) {\r\n\r\n        paginaAnterior.classList.add('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n\r\n    } else if (paso === 3) {\r\n\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.add('ocultar');\r\n        mostrarResumen();\r\n\r\n    } else {\r\n\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n/*FUNCION ANTERIOR*/\r\nfunction botonAnterior() {\r\n\r\n    //DEFINIR el Boton\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n\r\n    //ACCIONAR Función cuando se hace click\r\n    paginaAnterior.addEventListener('click', function () {\r\n\r\n        if (paso <= pasoInicial) {\r\n\r\n            return;\r\n\r\n        } else {\r\n\r\n            paso--;\r\n            botonesPaginador();\r\n            mostrarSeccion();\r\n\r\n        }\r\n\r\n    })\r\n\r\n}\r\n\r\n/*FUNCION SIGUIENTE*/\r\nfunction botonSigiente() {\r\n\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    //ACCIONAR Función cuando se hace click\r\n    paginaSiguiente.addEventListener('click', function () {\r\n\r\n        if (paso >= pasoFinal) {\r\n\r\n            return;\r\n\r\n        } else {\r\n\r\n            paso++;\r\n            botonesPaginador();\r\n            mostrarSeccion();\r\n\r\n        }\r\n\r\n    })\r\n\r\n}\r\n\r\n/*FUNCION MOSTRAR ALERTA*/\r\nfunction mostrarAlerta(tipo, mensaje, elemento, desaparece = true) {\r\n\r\n    //REVISO si hay Alertas Activas\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if (alertaPrevia) {\r\n\r\n        alertaPrevia.remove();\r\n\r\n    };\r\n\r\n    //CREAR Contenedor Alerta\r\n    const alerta = document.createElement('DIV');\r\n\r\n    //GENERO valores del contenedor\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add('alerta');\r\n    alerta.classList.add(tipo);\r\n\r\n    //IMPRIMIR Alertas en Formulario\r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);\r\n\r\n    if (desaparece) {\r\n\r\n        //ELIMINAR Impresión\r\n        setTimeout(() => {\r\n\r\n            alerta.remove();\r\n\r\n        }, 3000); /*Se elimina la alerta en 3seg = 3000ms*/\r\n\r\n    }\r\n\r\n}\r\n\r\n//FUNCION CITA\r\n/*FUNCION NOMBRE Cita*/\r\nfunction nombreCliente() {\r\n\r\n    //ASIGNAR el nombre del Cliente a la Cita\r\n    cita.NOMBRE = document.querySelector('#NOMBRE').value;\r\n\r\n}\r\n\r\n/*FUNCION FECHA Cita*/\r\nfunction seleccionaFecha() {\r\n\r\n    //SELECCIONAR la Fecha del campo del formulario\r\n    const inputFecha = document.querySelector('#FECHA');\r\n\r\n    inputFecha.addEventListener('input', function (e) {\r\n\r\n        //ASIGNAR Dia\r\n        const dia = new Date(e.target.value).getUTCDay();\r\n\r\n        if ([0, 6].includes(dia)) {/* Si Sabado o Domingo está inculida en la variable día */\r\n\r\n            //SETEAR Fecha en Null\r\n            e.target.value = '';\r\n\r\n            //MOSTRAR Alerta\r\n            mostrarAlerta('error', 'No se toman Citas en fines de semana', '.formulario');\r\n\r\n        } else {\r\n\r\n            cita.FECHA = e.target.value; /*Se registra la fecha*/\r\n\r\n        }\r\n\r\n    });\r\n\r\n}\r\n\r\n/*FUNCION HORA Cita*/\r\nfunction seleccionaHora() {\r\n\r\n    const inputHora = document.querySelector('#HORA');\r\n\r\n    inputHora.addEventListener('input', function (e) {\r\n\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(\":\")[0];\r\n\r\n        if (hora < 10 || hora > 18) { /*LOCAL CERRADO*/\r\n\r\n            //SETEAR Fecha en Null\r\n            e.target.value = '';\r\n\r\n            //MOSTRAR Alerta\r\n            mostrarAlerta('error', 'Las reservas se pueden tomar entre las 10:00 y las 18:00 horas', '.formulario');\r\n\r\n        } else {\r\n\r\n            cita.HORA = e.target.value; //Se registra la hora\r\n\r\n        }\r\n\r\n    })\r\n\r\n}\r\n\r\n//FUNCIONES API\r\n//FUNCION ASYNCRONA Consultar API\r\nasync function consultarAPI() {\r\n\r\n    try {\r\n\r\n        //Fuente de los Servicios\r\n        const url = 'http://localhost:3000/api/servicios';\r\n\r\n        //Recuperación de Datos\r\n        const resultado = await fetch(url); /* Las funciones que estan debajo se ejecutan una vez recuperados todos los datos */\r\n\r\n        //Recuperación de Servicios JSON\r\n        const servicios = await resultado.json();\r\n\r\n        //FUNCION Mostrar Servicios\r\n        mostrarServicios(servicios);\r\n\r\n    } catch (error) {\r\n\r\n        console.log(error);\r\n\r\n    }\r\n\r\n}\r\n\r\n//FUNCION Mostrar Servicios\r\nfunction mostrarServicios(servicios) {\r\n\r\n    //Itero sobre el arreglo de Servicios\r\n    servicios.forEach(servicio => {\r\n\r\n        //Creo los objetos servicio\r\n        const { ID, NOMBRE, PRECIO } = servicio;\r\n\r\n        //Creo los atributos del objeto\r\n        const nombreServicio = document.createElement('P'); /*P = <p>*/\r\n        nombreServicio.classList.add('nombre-servicio');\r\n        nombreServicio.textContent = NOMBRE;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio-servicio');\r\n        precioServicio.textContent = `$${PRECIO}`; /*${ variable } Inyecta la Variable*/\r\n\r\n        //Creo el Contenedor de los objetos\r\n        const servicioDiv = document.createElement('DIV'); /*DIV = <div>*/\r\n        servicioDiv.classList.add('servicio');\r\n        servicioDiv.dataset.idServicio = ID;\r\n        servicioDiv.onclick = function () { /*Llamo a la FUNCION Seleccionar Servicios al hacer CLICK*/\r\n\r\n            seleccionarServicio(servicio);\r\n\r\n        };\r\n\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n\r\n        //Busco el contenedor de servicios en el DIV del index\r\n        document.querySelector('#servicios').appendChild(servicioDiv);\r\n\r\n    });\r\n\r\n}\r\n\r\n//FUNCION Seleccionar Servicios\r\nfunction seleccionarServicio(servicio) {\r\n\r\n    //Extraigo los datos del Arreglo SERVICIOS del objeto CITA\r\n    const { ID } = servicio;\r\n    const { SERVICIOS } = cita;\r\n\r\n    //SELECCIONAR la clase sobre la que hago click\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${ID}\"]`);\r\n\r\n    //VALIDACION sobre si un servicio existe en el arreglo del objeto CITA y concuerda con el SERVICIO que estoy clickeando\r\n    if (SERVICIOS.some(agregado => agregado.ID === ID)) {\r\n\r\n        //ELIMINAR\r\n        cita.SERVICIOS = SERVICIOS.filter(agregado => agregado.ID !== ID);/* ELIMINO el servicio que COINCIDE con el ID */\r\n        divServicio.classList.remove('seleccionado');\r\n\r\n    } else {\r\n\r\n        //AGREGAR\r\n        cita.SERVICIOS = [...SERVICIOS, servicio]; /*...SERVICIOS => SERVICIOS extraidos*/\r\n        divServicio.classList.add('seleccionado');\r\n\r\n    }\r\n\r\n}\r\n\r\n//FUNCION Mostrar Cita\r\nfunction mostrarResumen() {\r\n\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    //Limpiar el contenido de resumen\r\n    while (resumen.firstChild) {\r\n\r\n        resumen.removeChild(resumen.firstChild);\r\n\r\n    }\r\n\r\n    if (Object.values(cita).includes('') || cita.SERVICIOS.lenght === 0) {\r\n\r\n        mostrarAlerta('error', 'Faltan datos de Servicios, Fecha u Hora', '.contenido-resumen', false);\r\n        return;\r\n    }\r\n\r\n    //FORMATEAR el DIV de Resumen\r\n    const { NOMBRE, FECHA, HORA, SERVICIOS } = cita; //EXTRAER los datos del objeto cita\r\n\r\n    //HEADING para Resumen de Servicios\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'Resumen de Servicios';\r\n    resumen.appendChild(headingServicios);\r\n\r\n    //FORMATEAR Fecha en Español\r\n    const fechaObj = new Date(FECHA);\r\n    const mes = fechaObj.getMonth();\r\n    const dia = fechaObj.getDate() + 2;\r\n    const ano = fechaObj.getFullYear();\r\n\r\n    const fechaUTC = new Date(Date.UTC(ano, mes, dia));\r\n\r\n    const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\r\n    const fechaFormato = fechaUTC.toLocaleDateString('es-AR', opciones);\r\n\r\n    //ITERAR sobre los servicios seleccionados\r\n    SERVICIOS.forEach(servicio => {\r\n\r\n        const { ID, PRECIO, NOMBRE } = servicio;\r\n\r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P');\r\n        textoServicio.textContent = NOMBRE;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.innerHTML = `<span>Precio: </span> $${PRECIO}`;\r\n\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        resumen.appendChild(contenedorServicio);\r\n\r\n    });\r\n\r\n    //HEADING para Resumen de Citas\r\n    const headingCita = document.createElement('H3');\r\n    headingCita.textContent = 'Resumen de Cita';\r\n    resumen.appendChild(headingCita);\r\n\r\n\r\n    //DEFINO DATOS DEL CLIENTE\r\n    const nombreCliente = document.createElement('P');\r\n    nombreCliente.innerHTML = `<span>Nombre: </span>${NOMBRE}`;\r\n\r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.innerHTML = `<span>Fecha: </span>${fechaFormato}`;\r\n\r\n    const horaCita = document.createElement('P');\r\n    horaCita.innerHTML = `<span>Hora: </span>${HORA} horas`;\r\n\r\n    //BOTON para RESERVAR Cita\r\n    const botonReservar = document.createElement('BUTTON');\r\n    botonReservar.classList.add('boton');\r\n    botonReservar.textContent = 'Reservar Cita';\r\n    botonReservar.onclick = ReservarCita;\r\n\r\n    resumen.appendChild(nombreCliente);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n    resumen.appendChild(botonReservar);\r\n\r\n}\r\n\r\n//FUNCION para MANDAR los DATOS al SERVIDO\r\nasync function ReservarCita() {\r\n\r\n    const { NOMBRE, FECHA, HORA, SERVICIOS } = cita;\r\n\r\n    const idServicios = SERVICIOS.map(servicio => servicio.ID);\r\n\r\n    const Datos = new FormData();\r\n    Datos.append('NOMBRE', NOMBRE);\r\n    Datos.append('FECHA', FECHA);\r\n    Datos.append('HORA', HORA);\r\n    Datos.append('SERVICIOS', idServicios);\r\n\r\n    //PUNTO CRITICO\r\n    try {\r\n\r\n        //PETICION a la API\r\n        const url = `/api/citas`;\r\n\r\n        const respuesta = await fetch(url, {\r\n            method: 'POST',\r\n            body: Datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n\r\n        \r\n\r\n        if (resultado['@_status'] !== 'error') {\r\n\r\n            Swal.fire({\r\n\r\n                icon: 'success',\r\n                title: 'Éxito',\r\n                text: 'Tu cita fue creada correctamente',\r\n\r\n            }).then(() => { //Despues de ejecutar la alerta\r\n\r\n                window.location.reload(); //Recarga la página\r\n\r\n            })\r\n\r\n        }\r\n\r\n    } catch (error) {\r\n\r\n        Swal.fire({\r\n\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: 'Hubo un error al guardar la cita',\r\n\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n"]}